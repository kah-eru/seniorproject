// @ts-check
<<<<<<< HEAD
/** @typedef {import("webpack/lib/Compilation.js")} WebpackCompilation */
'use strict';

/**
 * @type {{[sortmode: string] : (entryPointNames: Array<string>, compilation, htmlWebpackPluginOptions) => Array<string> }}
=======
'use strict';

/** @typedef {import("webpack").Compilation} Compilation */

/**
 * @type {{[sortmode: string] : (entryPointNames: Array<string>, compilation: Compilation, htmlWebpackPluginOptions: any) => Array<string> }}
>>>>>>> 21d7be62d554915787485641c4ea1187492767dd
 * This file contains different sort methods for the entry chunks names
 */
module.exports = {};

/**
 * Performs identity mapping (no-sort).
<<<<<<< HEAD
 * @param  {Array} chunks the chunks to sort
 * @return {Array} The sorted chunks
=======
 * @param  {Array<string>} chunks the chunks to sort
 * @return {Array<string>} The sorted chunks
>>>>>>> 21d7be62d554915787485641c4ea1187492767dd
 */
module.exports.none = chunks => chunks;

/**
 * Sort manually by the chunks
<<<<<<< HEAD
 * @param  {string[]} entryPointNames the chunks to sort
 * @param  {WebpackCompilation} compilation the webpack compilation
 * @param  htmlWebpackPluginOptions the plugin options
=======
 * @param {string[]} entryPointNames the chunks to sort
 * @param {Compilation} compilation the webpack compilation
 * @param {any} htmlWebpackPluginOptions the plugin options
>>>>>>> 21d7be62d554915787485641c4ea1187492767dd
 * @return {string[]} The sorted chunks
 */
module.exports.manual = (entryPointNames, compilation, htmlWebpackPluginOptions) => {
  const chunks = htmlWebpackPluginOptions.chunks;
  if (!Array.isArray(chunks)) {
    return entryPointNames;
  }
  // Remove none existing entries from
  // htmlWebpackPluginOptions.chunks
  return chunks.filter((entryPointName) => {
    return compilation.entrypoints.has(entryPointName);
  });
};

/**
 * Defines the default sorter.
 */
module.exports.auto = module.exports.none;
